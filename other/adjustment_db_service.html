<!DOCTYPE html>

<html lang="ru">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=0.8" charset="utf8">
    <title>AdjustmentDB описание сервиса</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script type="text/javascript" src="../include.js"></script>
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>

<body>

<div id="left_side_panel" class="left_side_panel">
    <a class="home_button" href="../menu/index.html"></a>
    <a href="javascript:void(0)" class="close_btn" onclick="closeNav()">&times;</a>
    <div class="spoiler_menu" id="menu"></div>
</div>

<a class="to_page_top" title="Наверх">&uparrow;</a>

<div class="menu_and_main_div">

    <div class="header_div_2">
        <input title="" name="menu_btn" type="button" value="Меню" onclick="openNav()" class="menu_button"
               id="menu_button">

        <a href="../menu/index.html">Главная</a>
        <a href="../other/adjustment_db.html">AdjustmentDB</a>
        <a href="">Описание сервиса</a>
    </div>

    <div class="left_side_menu">
        <div id="menu_left" class="spoiler_menu"></div>
    </div>

    <script>
        includeMenu("menu_left", REG_MENU, CLOSE);
        includeMenu("menu", REG_MENU, CLOSE);
    </script>

    <div class="main_div">

        <h1>AdjustmentDB. Описание сервиса</h1>

        <h3><span class="attention">Описание не окончено, в работе</span> </h3>

        <img src="../imgs/under_construction.jpg" alt="изображение не найдено">

        <div class="left_align">
            <a href="https://adjustmentdb.web.app/index.html">AdjustmentWeb</a><br>
            <a href="https://github.com/VadimSquorpikkor/AdjustmentDB/releases">AdjustmentDB</a><br>
            <a href="https://adjustmentdb.web.app/qr_page.html">Генератор QR-кода</a><br>
            <a href="https://atomtexrepair.web.app/">AtomtexRepair</a><br>
            <a href="https://github.com/VadimSquorpikkor/RepairsTracker/releases">RepairTracker</a><br>
            <a href="../other/adjustment_db_admin.html">Администрирование</a>
        </div>

        <h3>Описание сервиса</h3>

        <p>
            Комплекс приложений для отслеживания устройств. Основная идея: имеем базу данных, в которую
            сохраняем имя и серийный номер устройства, для каждого устройства можно сохранить его статус
            ("На регулировке", "На линейке" и т.д.) таким образом в любой момент времени можно будет отследить
            устройство по егу типу и/или статусу, например узнать, сколько AT2503 (и с каким номером) находятся на
            линейке или на каком этапе находится поступивший в ремонт прибор. При этом добавление устройства в базу
            данных происходит в полуавтоматическом режиме — используя специальное приложение путем сканирования
            QR-кода, расположенного на корпусе устройства. Этот код предварительно генерируется с помощью специального
            приложения. Так как база данных расположена на облаке, то любые изменения данных будут немедленно
            отображаться на всех приложениях, подключенных к базе. Комплекс состоит из:</p>
        <ul>
            <li>Облачной базы данных</li>
            <li>Веб приложения (веб страница) <a href="https://adjustmentdb.web.app/index.html">AdjustmentWeb</a> для просмотра серийных и ремонтных устройств</li>
            <li>Приложение <a href="https://github.com/VadimSquorpikkor/AdjustmentDB/releases">AdjustmentDB</a> для Android для просмотра и добавления новых записей в Базу Данных </li>
            <li><a href="https://adjustmentdb.web.app/qr_page.html">Генератора</a> QR-кода </li>
        </ul>
        <p>Также есть приложения для пользователей, сдавших приборы в ремонт. Такие пользователи будут получать
            TrackId, по которому смогут отслеживать статус устройства и время каждого события:
        <ul>
            <li>Веб приложения (веб страница) <a href="https://atomtexrepair.web.app/">AtomtexRepair</a></li>
            <li>Приложение <a href="https://github.com/VadimSquorpikkor/RepairsTracker/releases">RepairTracker</a> для Android</li>
        </ul>

        <p>Все приложения не используют собственное хранилище данных, а все данные берут из облачной БД, т.е. все данные
            являются общими для всех приложений, любые изменения в БД отображаются во всех приложениях.
        </p>

        <img src="../imgs/adjustment/scheme.jpg" width="800" alt="изображение не найдено">

        <p>Все приложения входящие в комплекс могут читать данные из Базы Данных (см. схему, зеленые стрелки), но
            добавлять/изменять данные способно только AdjustmentDB, и только через сканирование QR-кода (красные
            стрелки)</p>

        <p>Для того чтобы посторонние люди не смогли сами сгенерировать QR-код и с помощью его не смогли бы добавить
            несуществующие данные в БД, применяется шифрование строки перед тем, как сгенерировать из неё QR-код. В
            программе-сканере кода стоит дешифратор. Таким образом, не зная ключа практически невозможно постороннему
            человеку добавить свои данные в БД.</p>

        <h3>Облачная база данных</h3>

        <p>База данных расположена на Firebase. Доступ к БД напрямую, не используя клиентские
            приложения есть только у разработчика, для пользователя этот доступ закрыт. Все вопросы по
            добавлению и корректировке, экспорту и резервному копированию данных решать через разработчика.</p>
        <!--<p>Надо помнить, что список устройств и список статусов не хранится ни в одном приложении и не содержится в коде
            сайта. Эти данные хранится в БД в отдельных таблицах и динамически добавляются при старте приложения. Плюсы
            такого решения &#45;&#45; 1) невозможно добавить похожие типы устройств ("АТ3509", "3509", "ат3509"); 2) при
            необходимости добавить новый тип или статус, этот тип просто добавляется в БД (обращаться к разработчику),
            при этом во всех приложениях эти новые типы добавятся автоматом (без перезагрузки и без скачивания и
            установки новой версии с новыми типами). Так устроены приложения.
        </p>-->

        <h3>AdjustmentWeb</h3>
        <img src="../imgs/adjustment/service/web1.jpg" width="700" alt="AdjustmentWeb">
        <figcaption>Поиск по БД</figcaption>
        <p>AdjustmentWeb — это веб-приложение (веб страница) для просмотра сведений о ремонтных и серийных приборах.
            Здесь же находится генератор QR-кода.
        </p>
        <ul>
            <li>Страница поиска устройств по базе данных</li>
            <li>QR-генератор</li>
            <li>Страница добавления/удаления данных из БД</li>
            <li>Страница отслеживания ремонтных устройств</li>
        </ul>


        <div class="image_div">
            <figure style="float: left; padding-right: 10px; margin: 0">
                <img src="../imgs/adjustment/service/web2.jpg" width="400" alt="изображение не найдено">
                <figcaption>QR-генератор</figcaption>
            </figure>
            <!--<figure style="float: left; padding-right: 10px; margin: 0">
                <img src="../imgs/adjustment/service/web3.jpg" width="300" alt="изображение не найдено">
                <figcaption></figcaption>
            </figure>-->
            <figure style="float: left; padding-right: 10px; margin: 0">
                <img src="../imgs/adjustment/service/web4.jpg" width="500" alt="изображение не найдено">
                <figcaption>Отслеживание</figcaption>
            </figure>
        </div>



        <p>Доступ к AdjustmentWeb закрыт для использования неавторизованных пользователей, для получения доступа
            обращаться к разработчику (добавит пользователя). Доступ к вкладке "Добавить" открыт только администратору</p>

        <h3>AdjustmentDB. Приложение для Android</h3>

        <img src="../imgs/adjustment/adjustmentDB.png" width="810" alt="AdjustmentDB">

        <p>
            Единственным способов изменить или добавить новые данные в БД является валидация устройства по его QR-коду
            с помощью приложения для Android "AdjustmentDB". Для этого нужно:
        </p>
        <ul>
            <li>Запустить приложение AdjustmentDB</li>
            <li>Открыть вкладку одиночного или множественного сканирования</li>
            <li>В открывшемся окне сканера навести камеру на QR-код, приложение автоматически распознает строку</li>
            <li>После этого станут доступны поля для дополнения/изменения данных для добавления их в БД</li>
        </ul>
        <p>В строке, полученной из qr-кода содержится название устройства ("AT3509") и его внутренний номер ("1234").
            В момент подключения к БД (после успешного сканирования кода) приложение запускает поиск такого устройства
            в базе, и, если устройство найдено (было уже добавлено ранее), считывает все данные для этого устройства
            (серийный номер, статус устройства и т.д.) и заполняет этими данными поля для данных в приложении
            AdjustmentDB. Если устройство найдено не было, поля данных будут заполнены только именем устройства и его
            внутренним номером (которые содержались в коде). При необходимости можно добавить дополнительные данные.
            После нажатия кнопки "Добавить в БД" данные в БД будут немедленно обновлены. При этом во всех других
            приложениях немедленно отобразятся эти обновленные данные (без перезагрузки)

        <h3>AtomtexRepair</h3>
        <img src="../imgs/adjustment/arepair.jpg" width="600" alt="AtomtexRepair">
        <p>AtomtexRepair — это веб-приложение (веб страница) для просмотра сведений о ремонтных приборах. Это вариант
            для пользователей, сдавших устройство в ремонт. Получив от Группы сервиса TrackId, пользователь вводит этот
            идентификатор в форме на сайте и получает сведения о процессе ремонта, его текущем статусе: на какой
            операции находится устройство и на каком участке, когда устройство поступило в ремонт и сколько дней
            устройство уже находится в ремонте. Т.е. это некоторый аналог сервисов по отслеживанию посылок.
        </p>

        <h3>RepairTracker</h3>
        <img src="../imgs/adjustment/tracker3.jpg" width="500" alt="RepairTracker">
        <p>То же, что и AtomtexRepair, только для Android
        </p>

        <h3>Генератора QR-кода</h3>
        <p>Особенность генератора (в отличии от многих аналогичных) — сначала генератор шифрует строку и только после
            этого преобразует строку в QR-код. Чтобы сгенерировать код, нужно:</p>
        <ul>
            <li>Выбрать из выпадающего списка тип устройства ("БДКГ-02")</li>
            <li>Ввести внутренний номер (не серийный)</li>
            <li>Ввести ключ. Если ключ не ввести или ввести неверный, то сгенерированный код не будет распознан
                сканером Android приложения.
            </li>
        </ul>
        <p>Для генерации кодов для ремонтных устройств используется другая логика.</p>
        <ul>
            <li>Выбрать из выпадающего списка "Ремонт"</li>
            <li>Ввести порядковый номер ремонта (идентификатор — четырехзначное число).</li>
            <li>Ввести ключ.</li>
        </ul>
    </div>
</div>
</body>
</html>
