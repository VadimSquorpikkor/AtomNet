<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>БДКГ-22/23. Прошивка</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
</head>
<body>

<div class="header_div">
    <a class="white_font" href="../index.html">Содержание / </a>
    <a class="white_font" href="bdkg22.html">БДКГ-22/23 </a>
    / БДКГ-22/23. Прошивка
</div>

<div>

    <h1>БДКГ-22/23. Прошивка</h1>
    <p>

        <span class="attention">Если контроллер уже был прошит, подключиться к блоку для прошивки НЕ ПОЛУЧИТСЯ! Для того чтобы перепрошить блок:

            <ul class="attention">
                <li>Отключить питание</li>
                <li>Замкнуть выводы (вставить перемычку):</li>

            <img src="../imgs/bdkg22/prosh/6.jpg" width="600">

                <li>Подключить питание</li>
                <li>Достать пермычку</li>

            </ul>

        </span>

    <ul>
        <li>БДКГ-22 и 23 прошиваются специальным кабелем DB9&xrarr;Fisher с двумя линиями A/B и разъемом питания для 12В
            (<a href="bdkg22pr_scheme.html">схемы кабеля</a>)
        </li>
        <li>Подключается к компьютеру через адаптер USB-COMi-SI-M <span
                class="attention">с нестандартными настройками</span>:
        </li>
        <img src="../imgs/bdkg22/prosh/5.jpg" width="800"/>

    Есть три версии прошивки:
    <ul>
        <li>bdkg22.hex &mdash; для БДКГ-22. Измерение в зивертах.</li>
        <li>bdkg23.hex &mdash; для БДКГ-23. Измерение в греях.</li>
        <li>bdkg23а.hex &mdash; для БДКГ-23/1 (изначально назывался БДКГ-23А). Измерение в зивертах.</li>
    </ul>

    <li>Шить через Flip:</li>
           <ul>
               <img src="../imgs/bdkg22/prosh1.png" width="838"/>
               <li>Выбрать тип контроллера &mdash; AT89C51ED2</li>
                <li>Подключение. Выбрать порт. Скорость &mdash; 115500</li>
                <li>Выбрать прошивку</li>
                <li>Нажать Run</li>
               После окончания процесса прошивки:
               <img src="../imgs/bdkg22/prosh2.png" width="844"/>
               <li>Снять BLJB</li>
                <li>Поставить Level 2</li>
           </ul>
        <li>Наклеить наклейку с версией прошивки</li>


    <img src="../imgs/bdkg22/prosh/3.jpg" width="800"/></ul>

    <a class="attention">Можно прошить БДКГ-22/23 не используя перемычку,
        а значит можно прошивать/перепрошивать блоки не разбирая их, прямо в корпусе</a>

    <p>Суть метода заключается в разблокировке загрузчика через Terminal</p>
    <ul>
        <li>Подключиться через прошивочный кабель</li>
        <li>Подать питание на кабель</li>
        <li>Кабель к USB-COMi адаптеру подключить через переходник (<a href="../imgs/bdkg22/1.png">схема</a>)</li>

        <img src="../imgs/bdkg22/perehodnik.png" width="600"/></ul>

        <li>На USB-COM адаптере выставить:</li>
        <img src="../imgs/bdkg22/usbcom-1.png" width="200">
        <li>Запустить Terminal <span class="attention">для БДКГ-22</span>
            (если такого нет, <a href="../docs/bdkg22/Command.txt")>вот</a> настройки Command) </li>
    <li>Выбрать com-порт</li>
        <li>Скорость &mdash; 19200 (Baud)</li>
        <li>(Для проверки можно нажать ID, блок должен ответить)</li>
        <li>Выбрать: "Настройка", "+", "->"</li>
        <li>Выбрать: "Внутрисхемный загрузчик", "+", "->"</li>
    <img src="../imgs/bdkg22/prosh/terminal.png" width="650">
    <p> БД разблокирован (пока подключено питание)</p>
        <li>Порт: выбрать "Off" (или закрыть Flip), чтобы освободить порт</li>
        <li>Подключить кабель к USB-COM адаптеру без переходника (<span class="attention">ПИТАНИЕ ОТ КАБЕЛЯ НЕ ОТКЛЮЧАТЬ!</span>
            иначе блок опять заблокируется) </li>
        <li>На адаптере поставить:</li>
    <img src="../imgs/bdkg22/usbcom-2.png" width="200">
        <li>Теперь можно шить стандартным способом (через Flip)</li>

    </ul>

</div>

</body>
</html>